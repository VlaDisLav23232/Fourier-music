# Синтезатор та Візуалізатор Рядів Фур'є

## Опис програми

Ця програма є інтерактивним синтезатором звуку, який використовує математичну теорію рядів Фур'є для синтезу та візуалізації звуків. Користувач може грати на віртуальній клавіатурі, змінювати типи хвиль (форми сигналу) та спостерігати за візуалізацією звукових хвиль, спектрів частот і гармонічних складових у реальному часі.

## Основні функції

### 1. Синтез звуку на основі рядів Фур'є

- **Генерація різних типів хвиль**: стандартна (природне згасання гармонік), прямокутна, пилкоподібна та трикутна
- **Інтерактивна клавіатура**: грайте на музичній клавіатурі за допомогою клавіш комп'ютера
- **Налаштування гармонік**: кожен тип хвилі має унікальний набір гармонік, які відображаються візуально
- **Живе відстеження амплітуди**: модуляція амплітуди звуку в часі для створення більш динамічного та "живого" звучання

### 2. Візуалізація в реальному часі

- **Форма хвилі (часова область)**: відображення амплітуди звуку в часі
- **Спектр частот (частотна область)**: візуалізація амплітуд окремих частот, отриманих через перетворення Фур'є
- **Гармонічні складові**: показує амплітуди кожної гармоніки, які формують звук
- **Інтерактивна клавіатура**: віртуальна клавіатура з підсвічуванням натиснутих клавіш

### 3. Керування програмою

- **Клавіші 1-4**: вибір різних типів хвиль (форм сигналу):
  - **1**: Стандартна хвиля з природним згасанням гармонік (1/n)
  - **2**: Прямокутна хвиля (непарні гармоніки)
  - **3**: Пилкоподібна хвиля (всі гармоніки)
  - **4**: Трикутна хвиля (непарні гармоніки з чергуванням знаку)
- **Клавіша M**: вмикання/вимикання модуляції амплітуди
- **Клавіші A-L та ін.**: грання нот (розкладка як на піаніно)
- **ESC**: вихід з програми

## Ряди Фур'є в програмі

### Теоретичне підґрунтя

Ряди Фур'є — це математичний інструмент, який дозволяє представити будь-яку періодичну функцію як суму синусоїд різних частот. 

Формула ряду Фур'є:

$$f(t) = \frac{a_0}{2} + \sum_{n=1}^{\infty} \left[ a_n \cos(n\omega t) + b_n \sin(n\omega t) \right]$$

де:
- $a_0$, $a_n$, $b_n$ — коефіцієнти Фур'є
- $n$ — номер гармоніки
- $\omega$ — основна частота
- $t$ — час

У контексті звуку це означає, що будь-який періодичний звук (тон) може бути представлений як сума простих синусоїдальних хвиль (гармонік), частоти яких є кратними основній частоті.

### Застосування в програмі

1. **Синтез звуку**: Програма використовує ряди Фур'є для створення різних типів звукових хвиль:

```python
# Генерація звуку з гармонік
tone = np.zeros_like(t)
for n in range(1, len(weights) + 1):
    # Додаємо кожну гармоніку з її вагою
    amplitude = weights[n-1]
    tone += amplitude * np.sin(2 * np.pi * n * freq * t)
```

2. **Різні типи хвиль створюються зміною коефіцієнтів Фур'є**:

   - **Стандартна хвиля**: природне згасання гармонік з коефіцієнтами 1/n
   ```python
   weights = np.ones(self.harmonics) / np.arange(1, self.harmonics + 1)
   ```

   - **Прямокутна хвиля**: використовує лише непарні гармоніки з коефіцієнтами 1/n
   ```python
   weights = np.zeros(self.harmonics)
   for i in range(self.harmonics):
       n = i + 1
       if n % 2 == 1:  # тільки непарні гармоніки
           weights[i] = 1/n
   ```

   - **Пилкоподібна хвиля**: використовує всі гармоніки з коефіцієнтами 1/n
   ```python
   weights = np.array([1/(i+1) for i in range(self.harmonics)])
   ```

   - **Трикутна хвиля**: непарні гармоніки з чергуванням знаку та коефіцієнтами 1/n²
   ```python
   weights = np.zeros(self.harmonics)
   for i in range(self.harmonics):
       n = i + 1
       if n % 2 == 1:  # тільки непарні гармоніки
           weights[i] = ((-1)**((n-1)//2)) / (n**2)
   ```

3. **Візуалізація**: Програма показує як часову форму хвилі, так і її спектр частот (отриманий за допомогою швидкого перетворення Фур'є):

```python
# Обчислення спектру для візуалізації
self.spectrum_buffer = np.abs(np.fft.rfft(tone[:self.buffer_size]))
```

## Практичне значення програми

1. **Навчальний інструмент**: Програма наочно демонструє зв'язок між математичною теорією рядів Фур'є та звуком
2. **Дослідження акустики**: Дозволяє експериментувати з різними гармонічними структурами та їх впливом на звучання
3. **Музична творчість**: Може використовуватися як простий синтезатор для створення звуків та музики
4. **Візуалізація звуку**: Показує візуальне представлення звуку в різних доменах (час, частота, гармоніки)

## Вимоги до запуску програми

- Python 3.x
- Бібліотеки: numpy, pygame, colorsys
- Встановлення залежностей: `pip install numpy pygame`

Щоб запустити програму, виконайте:
```
python fourier_music_synthesizer.py
```
